<div class="loading-spinner" *ngIf="settings === null">
    <mat-progress-spinner color="accent" mode="indeterminate"></mat-progress-spinner>
</div>
<div *ngIf="settings !== null">
<h2>SMS Settings</h2>
    <button matTooltip="Save" (click)="saveSettings()" mat-fab color="accent" class="mat-fab mat-fab-bottom-right"><mat-icon >save</mat-icon></button>

    <mat-card class="full-card"  *ngIf="settings.SMSGlobal != null">
        <mat-card-header>
                    <mat-card-title>SMS Global</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form class="form-content">
                <mat-checkbox name="smsEnabled" [(ngModel)]="settings.SMSGlobal.Enabled">Enabled</mat-checkbox>
                <div mat-line></div>
                <mat-form-field>
                    <input matInput name="smsUsername" [(ngModel)]="settings.SMSGlobal.Username" [disabled]="!settings?.SMSGlobal.Enabled" placeholder="Username">
                </mat-form-field>
                <mat-form-field>
                    <input matInput name="smsPassword" [(ngModel)]="settings.SMSGlobal.Password" [disabled]="!settings?.SMSGlobal.Enabled" placeholder="Password">
                </mat-form-field>

                <div *ngFor="let contact of settings.SMSGlobal?.Contacts">
                    <mat-checkbox name="contactEnabled" [disabled]="!settings?.SMSGlobal.Enabled" [(ngModel)]="contact.Enabled">Enabled</mat-checkbox>
                    <div mat-line></div>
                    <mat-form-field>
                        <input matInput name="contactUsername" [(ngModel)]="contact.Name" [disabled]="!settings.SMSGlobal.Enabled || !contact.Enabled" placeholder="Contact Name" />
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput name="contactPassword" [(ngModel)]="contact.Number" [disabled]="!settings.SMSGlobal.Enabled || !contact.Enabled" placeholder="Contact Number" />
                    </mat-form-field>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>